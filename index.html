<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Dasher - Sistemas Jefferson</title>
    <style>
        body { margin: 0; background-color: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: white; font-family: 'Arial Black', sans-serif; overflow: hidden; }
        
        /* Container inspirado na sua imagem roxa */
        #game_container { 
            position: relative; 
            width: 800px; 
            height: 400px; 
            background: #2e0094; /* Roxo escuro */
            background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), 
                              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            border-bottom: 10px solid #1a0052;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        /* O Boneco Verde da Imagem */
        #player { 
            width: 40px; 
            height: 40px; 
            background-color: #44fb1b; /* Verde lim√£o */
            border: 3px solid #ffffff; 
            position: absolute; 
            bottom: 0; 
            left: 100px; 
            z-index: 1000;
            box-shadow: 0 0 15px #44fb1b;
        }

        /* Obst√°culos */
        .obstacle { 
            width: 40px; 
            height: 40px; 
            background: linear-gradient(to bottom, #000, #2e0094);
            border: 2px solid #ffffff;
            position: absolute; 
            bottom: 0; 
            right: -50px; 
        }

        /* Moedas Douradas */
        .coin { 
            width: 30px; 
            height: 30px; 
            background-color: #ffcc00; 
            border: 3px solid #ff9900; 
            border-radius: 50%; 
            position: absolute; 
            bottom: 120px; 
            right: -50px; 
            box-shadow: 0 0 10px #ffcc00;
        }

        /* UI */
        .hud { position: absolute; top: 15px; left: 20px; font-size: 20px; z-index: 1001; display: flex; gap: 30px; }
        .coin-icon { color: #ffcc00; }

        /* Menu */
        #menu { 
            position: absolute; width: 100%; height: 100%; background: rgba(0,0,0,0.8); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000;
        }
        .btn { background: #44fb1b; color: #000; padding: 15px 40px; margin: 10px; border: none; font-size: 20px; cursor: pointer; border-radius: 5px; }

        /* Pulo */
        .jump-anim { animation: jump 0.6s cubic-bezier(0.1, 0.4, 0.4, 1); }
        @keyframes jump { 
            0% { bottom: 0; transform: rotate(0deg); } 
            50% { bottom: 150px; transform: rotate(180deg); } 
            100% { bottom: 0; transform: rotate(360deg); } 
        }
    </style>
</head>
<body>

    <div id="game_container">
        <div class="hud">
            <span>üíÄ <span id="val_mortes">0</span></span>
            <span class="coin-icon">üü° <span id="val_moedas">0</span></span>
        </div>

        <div id="menu">
            <h1 style="font-size: 50px; color: #44fb1b;">GEOMETRY DASHER</h1>
            <button class="btn" onclick="startGame('facil')">N√çVEL F√ÅCIL</button>
            <button class="btn" onclick="startGame('dificil')" style="background: #ff4444;">N√çVEL DIF√çCIL</button>
            <p>Clique ou ESPA√áO para Pular!</p>
        </div>

        <div id="player"></div>
    </div>

    <script>
        const player = document.getElementById("player");
        const menu = document.getElementById("menu");
        let moedas = parseInt(localStorage.getItem('moedas_jeff')) || 0;
        let mortes = 0;
        let isJumping = false;
        let active = false;
        let speed = 8;

        function updateHUD() {
            document.getElementById("val_moedas").innerText = moedas;
            document.getElementById("val_mortes").innerText = mortes;
        }

        function startGame(nivel) {
            menu.style.display = "none";
            active = true;
            speed = (nivel === 'dificil') ? 14 : 8;
            updateHUD();
            spawnObject();
        }

        function jump() {
            if (isJumping || !active) return;
            isJumping = true;
            player.classList.add("jump-anim");
            setTimeout(() => {
                player.classList.remove("jump-anim");
                isJumping = false;
            }, 600);
        }

        function spawnObject() {
            if (!active) return;
            
            const isCoin = Math.random() > 0.6;
            const obj = document.createElement("div");
            obj.classList.add(isCoin ? "coin" : "obstacle");
            document.getElementById("game_container").appendChild(obj);

            let pos = 800;
            let moveTimer = setInterval(() => {
                if (!active) { clearInterval(moveTimer); obj.remove(); return; }

                pos -= speed;
                obj.style.left = pos + "px";

                // Colis√£o
                let pRect = player.getBoundingClientRect();
                let oRect = obj.getBoundingClientRect();

                if (pRect.right > oRect.left && pRect.left < oRect.right && 
                    pRect.bottom > oRect.top && pRect.top < oRect.bottom) {
                    
                    if (isCoin) {
                        moedas += 1;
                        localStorage.setItem('moedas_jeff', moedas);
                        updateHUD();
                        obj.remove();
                        clearInterval(moveTimer);
                    } else {
                        gameOver();
                    }
                }

                if (pos < -50) {
                    obj.remove();
                    clearInterval(moveTimer);
                }
            }, 20);

            setTimeout(spawnObject, Math.random() * 1500 + 700);
        }

        function gameOver() {
            active = false;
            mortes++;
            updateHUD();
            menu.style.display = "flex";
        }

        document.addEventListener("keydown", (e) => { if(e.code === "Space") jump(); });
        document.getElementById("game_container").addEventListener("mousedown", jump);
        updateHUD();
    </script>
</body>
</html>
