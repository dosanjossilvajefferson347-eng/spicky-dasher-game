<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Dasher Ultra - Sistemas Jefferson</title>
    <style>
        body { margin: 0; background-color: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: white; font-family: 'Arial Black', sans-serif; overflow: hidden; }
        
        /* Container Roxo com Grade (Baseado na sua imagem) */
        #game_container { 
            position: relative; width: 800px; height: 400px; background: #2e0094; 
            background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 50px 50px; border-bottom: 10px solid #1a0052; overflow: hidden;
        }

        /* Boneco Customiz√°vel */
        #player { 
            width: 40px; height: 40px; background-color: #44fb1b; border: 3px solid #fff; 
            position: absolute; bottom: 0; left: 100px; z-index: 1000; box-shadow: 0 0 15px currentColor;
        }

        /* Moedas e Obst√°culos */
        .obstacle { width: 40px; height: 40px; background: linear-gradient(#000, #2e0094); border: 2px solid #fff; position: absolute; bottom: 0; right: -50px; }
        .coin { width: 30px; height: 30px; background: #ffcc00; border: 3px solid #ff9900; border-radius: 50%; position: absolute; bottom: 120px; right: -50px; box-shadow: 0 0 10px #ffcc00; }

        /* HUD e Menus */
        .hud { position: absolute; top: 15px; left: 20px; font-size: 20px; z-index: 1001; display: flex; gap: 30px; text-shadow: 2px 2px #000; }
        #menu_principal, #menu_loja, #menu_idioma { 
            position: absolute; width: 100%; height: 100%; background: rgba(0,0,0,0.9); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; 
        }
        
        .btn { background: #44fb1b; color: #000; padding: 12px 30px; margin: 8px; border: none; font-size: 18px; cursor: pointer; border-radius: 5px; min-width: 250px; }
        .btn-loja { background: #ffcc00; }
        .btn-idioma { background: #3498db; color: white; }

        .jump-anim { animation: jump 0.6s linear; }
        @keyframes jump { 
            0% { bottom: 0; transform: rotate(0deg); } 
            50% { bottom: 150px; transform: rotate(180deg); } 
            100% { bottom: 0; transform: rotate(360deg); } 
        }
    </style>
</head>
<body>

    <div id="game_container">
        <div class="hud">
            <span id="txt_mortes">üíÄ 0</span>
            <span style="color:#ffcc00">üü° <span id="val_moedas">0</span></span>
        </div>

        <div id="menu_principal">
            <h1 id="tit_jogo" style="color: #44fb1b; font-size: 40px;">GEOMETRY DASHER</h1>
            <button class="btn" onclick="iniciar('facil')" id="btn_facil">N√çVEL F√ÅCIL</button>
            <button class="btn" onclick="iniciar('dificil')" id="btn_dificil" style="background:#ff4444">N√çVEL DIF√çCIL</button>
            <button class="btn btn-loja" onclick="abrirLoja()" id="btn_loja">LOJA DE BONECOS</button>
            <button class="btn btn-idioma" onclick="abrirIdioma()">IDIOMA / LANGUAGE</button>
        </div>

        <div id="menu_loja" style="display:none">
            <h2 id="tit_loja">LOJA (50 MOEDAS)</h2>
            <div style="display:flex; gap:10px; margin-bottom:20px">
                <div style="width:40px;height:40px;background:#44fb1b;border:2px solid #fff" onclick="trocarCor('#44fb1b')"></div>
                <div style="width:40px;height:40px;background:#ff4444;border:2px solid #fff" onclick="trocarCor('#ff4444')"></div>
                <div style="width:40px;height:40px;background:#3498db;border:2px solid #fff" onclick="trocarCor('#3498db')"></div>
                <div style="width:40px;height:40px;background:#f1c40f;border:2px solid #fff" onclick="trocarCor('#f1c40f')"></div>
            </div>
            <button class="btn" onclick="comprarSkin()" id="btn_comprar">COMPRAR COR NOVA</button>
            <button class="btn" onclick="fecharMenus()" id="btn_voltar">VOLTAR</button>
        </div>

        <div id="menu_idioma" style="display:none">
            <button class="btn" onclick="setIdioma('pt')">Portugu√™s üáßüá∑</button>
            <button class="btn" onclick="setIdioma('en')">English üá∫üá∏</button>
            <button class="btn" onclick="setIdioma('es')">Espa√±ol üá™üá∏</button>
            <button class="btn" onclick="setIdioma('fr')">Fran√ßais üá´üá∑</button>
        </div>

        <div id="player"></div>
    </div>

    <script>
        const player = document.getElementById("player");
        let moedas = parseInt(localStorage.getItem('moedas_jeff')) || 0;
        let mortes = 0;
        let isJumping = false;
        let active = false;
        let speed = 8;

        const textos = {
            pt: {facil: "N√çVEL F√ÅCIL", dificil: "N√çVEL DIF√çCIL", loja: "LOJA", voltar: "VOLTAR", comprar: "COMPRAR COR NOVA", morto: "VOC√ä MORREU!"},
            en: {facil: "EASY LEVEL", dificil: "HARD LEVEL", loja: "SHOP", voltar: "BACK", comprar: "BUY NEW COLOR", morto: "YOU DIED!"},
            es: {facil: "NIVEL F√ÅCIL", dificil: "NIVEL DIF√çCIL", loja: "TIENDA", voltar: "VOLVER", comprar: "COMPRAR COLOR", morto: "¬°HAS MUERTO!"},
            fr: {facil: "NIVEAU FACILE", dificil: "NIVEAU DIFFICILE", loja: "BOUTIQUE", voltar: "RETOUR", comprar: "ACHETER COULEUR", morto: "TU ES MORT!"}
        };

        function setIdioma(lang) {
            document.getElementById("btn_facil").innerText = textos[lang].facil;
            document.getElementById("btn_dificil").innerText = textos[lang].dificil;
            document.getElementById("btn_loja").innerText = textos[lang].loja;
            document.getElementById("btn_voltar").innerText = textos[lang].voltar;
            document.getElementById("btn_comprar").innerText = textos[lang].comprar;
            fecharMenus();
        }

        function abrirLoja() { fecharMenus(); document.getElementById("menu_loja").style.display = "flex"; }
        function abrirIdioma() { fecharMenus(); document.getElementById("menu_idioma").style.display = "flex"; }
        function fecharMenus() { 
            document.getElementById("menu_principal").style.display = "none";
            document.getElementById("menu_loja").style.display = "none";
            document.getElementById("menu_idioma").style.display = "none";
            if(!active) document.getElementById("menu_principal").style.display = "flex";
        }

        function trocarCor(cor) { player.style.backgroundColor = cor; }

        function comprarSkin() {
            if(moedas >= 50) {
                moedas -= 50;
                localStorage.setItem('moedas_jeff', moedas);
                trocarCor('#' + Math.floor(Math.random()*16777215).toString(16));
                updateHUD();
                alert("Nova cor desbloqueada!");
            } else { alert("Moedas insuficientes!"); }
        }

        function iniciar(nivel) {
            active = true;
            fecharMenus();
            speed = (nivel === 'dificil') ? 14 : 8;
            updateHUD();
            spawn();
        }

        function jump() {
            if (isJumping || !active) return;
            isJumping = true;
            player.classList.add("jump-anim");
            setTimeout(() => { player.classList.remove("jump-anim"); isJumping = false; }, 600);
        }

        function spawn() {
            if (!active) return;
            const isCoin = Math.random() > 0.7;
            const obj = document.createElement("div");
            obj.className = isCoin ? "coin" : "obstacle";
            document.getElementById("game_container").appendChild(obj);

            let pos = 800;
            let timer = setInterval(() => {
                pos -= speed;
                obj.style.left = pos + "px";
                let p = player.getBoundingClientRect();
                let o = obj.getBoundingClientRect();

                if (p.right > o.left && p.left < o.right && p.bottom > o.top && p.top < o.bottom) {
                    if (isCoin) { 
                        moedas++; localStorage.setItem('moedas_jeff', moedas); 
                        updateHUD(); obj.remove(); clearInterval(timer);
                    } else { 
                        active = false; mortes++; updateHUD(); 
                        document.getElementById("menu_principal").style.display = "flex";
                        clearInterval(timer); obj.remove();
                    }
                }
                if (pos < -50) { clearInterval(timer); obj.remove(); }
            }, 20);
            setTimeout(spawn, Math.random() * 1500 + 80
